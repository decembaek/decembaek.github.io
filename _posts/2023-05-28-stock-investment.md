---
layout: single
title: "자동매매 시스템 구축, 금융 데이터, 투자 전략 -1-"
categories: [Stock]
tag: [python]
toc: true
---

# 금융 데이터란? 

금융 데이터는 주식, 채권, 펀드 등의 금융 상품 및 이와 연관이 있는 모든 정보를 포함함. 회사의 재무상태, 산업 현황과 전망, 경기 현황과 전망 등도 금융 데이터로 볼 수 있음



## 주식 종목 및 시장 데이터

- 시가, 고가, 저가, 종가, 거래량
- 외국인, 기관, 개인, 프로그램 순매수/순매도 거래량
- 공매도 비율
- 보조지표, 차트 패턴



## 재무제표 관련 데이터

- 주가수익비율 Price Earning Ratio, PER 주가/주당순이익
- 주가순자산비율 Price Book-value Ratio, PBR 주가/주당순자산
- 자기자본이익율 Return On Equity, ROE =   PBR/PER
- 주가현금흐름비율 Price-to-Cash Flow Ratio, PCR 주가/주당현금흐름



## 환율 데이터

- 미국 달러/원 USD/KRW 환율 시계열
- 중국 위안/원 CNY/KRW 환율 시계열
- 일본 엔/원 JPY/KRW 환율 시계열



## 기타

- 기준 금리 시계열
- 국채 시계열
- 금 시세 시계열
- 유가 시계열
- GDP 시계열
- 경기종합지수 시계열
- 검색 트렌드 



# 금융 데이터 분석의 방법

금융 데이터 분석 방법은 정해져 있는건 아니지만 많은 투자자가 "기본적 분석", "기술적 분석", "정서 분석"을 얘기함

## 기본적 분석 Fundamental analysis

기본적 분석은 기업의 가치, 산업, 경제를 평가하는 분석 방법, 기업의 가치를 평가하기 위해서 재무제표를 분석 및 회사의 수익성, 안정성, 성장성 등을 판단함.

대표적인 분석 지표로 PER, PBR, ROE 등이 있음, 수익성은 PER, 안정성을 PBR, 성장성을 ROE로 보통 판단함 
기본적 분석 지표들은 회사의 재무제표를 기준으로 정해지므로 어떠한 회사의 재무제표가 신뢰성이 있는지도 따져볼 필요가 있음

산업 분석 : KB금융지주 경영연구소    발표 자료 참고하기
경기 분석 : Business Cycle, 국내총생산 GPD, 금리, 환율, 경기종합지수  참고하기



## 기술적 분석 Technical analysis

기술적 분석은 차트 분석 방법이 있음. 과거의 경험으로 미래를 예측하고자 하는 것 

기술적 분석에서는 보통 차트의 OHLCV, 보조지표, 패턴을 분석함

### OHLCV 

Open-high-low-close, 거래량 volume

주식의 차트는 주로 봉(캔들) 차트로 그림



### 보조지표

이동평균선 Moving average, MA
이동평균선은 윈도우 동안의 평균 주가의 시계열

지수이동평균선 Exponential moving average, EMA
이동평균선 중 하나로 최근 가격을 더 중요하게 나타내기 위해 가중치를 둠.

볼린저밴드 Bollinger band
존 볼린저가 1983년에 개발한 보조지표, 주가의 이동평균선을 중심으로 표준편차 범위를 표시해 줌.

이동평균 수렴 확산 Moving average convergence divergence, MACD
2개의 장단기 지수이동평균선으로 모멘텀을 추정하는 보조지표. 주로 EMA12 단기선, EMA26을 장기 선으로 사용

상대강도지수 Relative strength index, RSI
과열(과매수)나 침체(과매도) 국면을 판단하기 위해 사용하는 보조지표
주로 RSI 70이상이면 과열, 30 이하면 침체 구간이라 봄



## 정서 분석 Sentiment analysis

정서 분석은 주식 종목, 업종, 시장, 경기 등에 대한 투자자들의 정서 파악을 위한 분석 방법
뉴스 분석, 토론방 분석, SNS 분석 등의 수많은 방법이 있음

구글 검색 트렌드 활용(구글 검색 트렌드에서 kospi 검색(용어)) 방법, 네이버 뉴스, 증권 뉴스 등등 



 

# 금융 데이터로 퀀트 투자 전략

## 저 PER, 저 PBR, 저 PCR 전략

조지프 라코니쇼크, 안드레이 슐라이퍼, 로버트 비시니 교수는 PER, PBR, PCR 과 주식 수익률을 분석
저 PER, 저 PBR, 저 PCR 종목들의 주식 수익률이 높았음을 확인함 

- PBR이 0.2 미만이면 제외
- 소형주 (시가총액 10분위 하위 1분위)
- 순위 합산 = 저 PER 순위, 저 PBR 순위, 저 PCR 순위
- 순위 합산으로 랭킹하여 상위 50개 종목으로 포트폴리오 구성
- 연 1회 리밸런싱



## F-Score 전략

스탠퍼드 경영대학원 교수 조셉 피오트로스키는 질 좋은 주식을 찾는 방법을 고안 
F-Score는 9가지의 간단한 조건으로 각 조건이 만족하면 1점씩 얻는 0~9 범위의 점수, 점수가 높을수록 투자하기 좋은 종목

F-Score의 9가지 조건

- 총자산순이익율 Return on Assets, ROA > 0
- 영업활동현금흐름 Cash Flow Return on Assets, CFO > 0 
- 올해 ROA / 전년 ROA > 0
- CFO - ROA > 0
- 올해 장기부채 - 전년 장기부채 < 0
- 올해 유동비율 - 전년 유동비율 > 0
- 신주발행 <= 0
- 올해 매출총이익 - 전년 매출총이익 > 0
- 올해 총자산회전율 - 전년 총자산회전율 > 0

# 포트폴리오 평가 

포트폴리오를 평가하는 다양한 지표가 있음, 주식, 채권 등의 다양한 금융 상품으로 구성됌.

손익율 Return 
포트폴리오의 실현 손익을 의미함, 가장 직관적이면서 기본적인 포트폴리오 평가 지표.

알파 Alpha
알파는 시장 대비 주식 포트폴리오 손익률을 의미함. 시장(코스피, 코스닥 등) 손익률이 10%이고 포트폴리오 손익률이 15%라면 알파는 5%가 됌. 포트폴리오 손익률이 5%라면 알파는 -5%

베타 Beta
베타는 주식 종목 손익률과 시장 손익률의 공분산의 시장 손익률 분산 대비 비율. 베타는 주식 종목과 시장의 방향성이 얼마나 비슷한지 알려줌.

샤프 Sharpe
샤프 비율은 무위험 자산의 손익률 대비 기대 초과 수익율을 의미함

소르티노 Sortino
소르티노 비율은 샤프 비율과 비슷한 척도.

최대낙폭 Maximum draw-down, MDD
최대낙폭은 특정 기간 동안 포트폴리오가 가장 크게 하락한 구간의 손실률을 의미함. MDD는 포트폴리오의 위험 척도로서 흔히 사용됌.

